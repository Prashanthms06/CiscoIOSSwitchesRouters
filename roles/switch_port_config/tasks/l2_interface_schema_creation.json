{
  "$id": "https://opensource.com/arrays.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Representation of  Layer-2 interfaces attributes of NX-OS Interfaces.",
  "type": "array",
  "items": { "$ref": "#/$defs/options" },
  "$defs": {
    "options": {
      "type": "object",
      "required": [ "name" ],
      "oneOf": [
        {
          "required": ["access"]
        },
        {
          "required": ["trunk"]
        }
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Full name of interface, i.e. Ethernet1/1."
        },
        "access": {
          "type": "object",
          "description": "Switchport mode access command to configure the interface as a Layer-2 access.",
          "required": ["vlan"],
          "properties" : {
            "vlan": {
              "type": "integer",
              "description": "Configure given VLAN in access port. It's used as the access VLAN ID."
            }
          }
        },
        "trunk" : {
          "type": "object",
          "description": "Switchport mode trunk command to configure the interface as a Layer-2 trunk.",
          "required": ["allowed_vlans","native_vlan"],
          "properties": {
            "allowed_vlans" : {
              "type": "string",
              "description": "List of allowed VLANs in a given trunk port. These are the only VLANs that will be configured on the trunk."
            },
            "native_vlan": {
              "type": "integer",
              "description": "Native VLAN to be configured in trunk port. It is used as the trunk native VLAN ID."
            }
          }
        }
      },
      "additionalProperties": false
    }
  }
}